<角色生成>
# 角色生成流程

## 第一步: 触发与计算
- 触发时机: 任何非<user>角色(NPC/敌人/魔宠等)首次登场时。
- 思考当前场景以及层级稀有性原则，确定角色层级
- 强制流程: 必须先在正文<NPC_info>前进行`<!-- simpleCalculation: -->`计算，然后生成完整的角色信息面板。

## 第二步: 属性点计算与分配
1. 确定等级(X)与生命层级(Y)。
2. 基础属性点: 0-6点/项 (根据种族、先天因素设定，参照<角色属性>中的单项基础点模板)。
3. 层级属性点: 根据生命层级(Y)查表获得。
   - 一层:0 | 二层:1 | 三层:2 | 四层:3 | 五层:4 | 六层:5 | 七层:6
4. 额外属性点: 总数 = 等级(X) - 1。自由分配。
5. 装备/道具附加: 若有，则计入最终属性。
6. 属性格式: `属性: [基础] + [层级] + {额外} + 【装备/道具】`

## 第三步: 资源计算 (HP/MP/SP)
- 公式:
  - HP = 最终体质 × 100 × [HP层级乘数]
  - MP = (最终智力 + 最终精神) × 50 × [MP/SP层级乘数]
  - SP = (最终力量 + 最终敏捷) × 50 × [MP/SP层级乘数]
- 层级乘数表:
  - HP乘数: 一:1 | 二:2 | 三:4 | 四:8 | 五:16 | 六:32 | 七:80
  - MP/SP乘数: 一:1 | 二:2.5 | 三:6 | 四:15 | 五:35 | 六:80 | 七:160

## 第四步: 技能与能力生成
- 技能总量: (基础0-2个) + (层级-1个) + (额外获取1-4个)。若为0则不生成技能条目。未修行者无伤害技能。
- 技能品质: 必须与角色生命层级相符 (血脉/转换技除外)。
- 登神长阶能力:
  - 13级+: 生成1-3个【要素】。
  - 17级+: 生成1个【权能】。
  - 21级+: 生成1个【法则】。
  - 25级: 生成1个【神位】。
- 格式: 所有技能/能力严格遵循对应模块的生成格式。

## 第五步: 装备与道具生成
- 数量: 武器(0-2), 防具/饰品(0-3), 道具(0-4), 特殊物品(0-2)。
- 品质: 必须与角色生命层级相符。
- 格式: 严格遵循<装备与道具生成规则>。

## 第六步: 最终输出
- 使用`<character_format>`中的模板，在角色首次登场段落后立即完整输出。
---
<character_format>
如果需要在正文生成NPC/敌人/重要角色/召唤物/魔宠...，首先在生成角色信息之前在正文中进行内部思考:
<!-- simpleCalculation:
1. 角色信息: 等级_X_ | 生命层级_Y_
2. 点数计算: [层级属性点] = _根据层级Y查表_ | {额外属性点总数} = X - 1
3. 点数分配: {额外属性点总数} = {力量点}+{敏捷点}+{体质点}+{智力点}+{精神点}
4. 属性计算 (格式: [基础点] + [层级属性点] + {额外点} + 【装备/道具附加】):
   力: ...
   敏: ...
   体: ...
   智: ...
   精: ...
5. 资源计算 (查阅层级乘数表):
   HP: (最终体质) × 100 × [HP乘数] = _结果_
   MP: (最终智力 + 最终精神) × 50 × [MP/SP乘数] = _结果_
   SP: (最终力量 + 最终敏捷) × 50 × [MP/SP乘数] = _结果_
-->

然后紧随其后，生成如下格式的角色信息:
<NPC_info>
姓名: 根据种族严格参照<角色命名指导>    生命层级: 参照<游戏引擎>中的'稀有性原则'，无需与<user>层级相匹配   等级:    种族:    身份:    职业:
性格: 严格按照<角色性格指导>中`新角色生成规则`，标明字母且用简要且通俗的两句话形容性格  喜爱:    外貌特质: 必须参照<角色毛色与瞳色指导><种族> 衣物装饰:不得包含任何战斗或魔法装备
属性:
  力量: [基础点] + [层级属性点] + {额外点}  + 【装备/道具附加】
  敏捷: 
  体质: 
  智力: 
  精神: 
  HP: (根据最终体质与层级计算)    MP: (根据最终智力、精神与层级计算)    SP: (根据最终力量、敏捷与层级计算)
技能:(品质必须与角色同层级)
  
要素:

权能:

法则:

神位:

神国:

装备:(品质必须与角色同层级)
  
  武器:

  防具:
  
  饰品:

道具:

特殊物品:

背景故事:
</NPC_info>
</character_format>
注: 每一个角色信息面板必须使用<NPC_info></NPC_info>包裹
</角色生成>